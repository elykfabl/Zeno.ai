<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=480, height=600, user-scalable=no">
  <title>Zeno â€" AI Calendar Assistant</title>
  <link rel="stylesheet" href="popup.css" />
  <style>
    html, body { 
      width: 480px !important; 
      height: 600px !important; 
      margin: 0 !important;
      padding: 0 !important;
      overflow: hidden !important;
    }
  </style>
</head>
<body>

  <!-- <button id="loginBtn">Sign in with Google</button>
  <p id="status">Not signed in</p> -->

  <div class="card" style="padding:12px 12px 0">
    <!-- Usage: Click "Sign in with Google" first. Then, in the Chat assistant below,
         type natural-language instructions like: "Set calendar for 4:00 AM tomorrow about Daily standup".
         The assistant will parse the time and create a 30-min event via background.js.
         This is a starter flow; you can replace the parser with a real LLM later. -->
    <header class="header" role="banner">
      <div class="dot" aria-hidden="true"></div>
      <h1>Zeno</h1>
      <span class="badge" aria-label="Build phase">Preview</span>
      <button id="showEvents" class="btn-secondary" type="button" style="margin-left:8px">Upcoming</button>
    </header>

    <!-- Main chat interface -->
    <main class="main">
      <div class="chat-container">
        <div id="chatLog" class="chat-log" aria-live="polite"></div>
        
        <!-- Typing indicator -->
        <div id="typing" class="typing-indicator hidden" aria-live="polite">
          <div class="typing-dots">
            <span></span>
            <span></span>
            <span></span>
          </div>
          <span class="typing-text">Zeno is thinking...</span>
        </div>

        <!-- Input area -->
        <div class="input-container">
          <div class="input-wrapper">
            <textarea 
              id="chatInput" 
              class="chat-input" 
              rows="1" 
              placeholder="Schedule a meeting... (e.g., 'Coffee with Sarah tomorrow at 2pm')"
              aria-label="Type your message"
            ></textarea>
            <button id="chatSend" class="send-button" type="button" aria-label="Send message">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M22 2L11 13M22 2L15 22L11 13M22 2L2 9L11 13" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Upcoming events panel -->
      <div id="upcomingPanel" class="upcoming-panel hidden">
        <div class="panel-header">
          <h2>Upcoming Events</h2>
          <div class="panel-actions">
            <button id="clearLocal" class="btn-text" type="button">Clear all</button>
            <button id="closeUpcoming" class="btn-icon" type="button" aria-label="Close panel">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </button>
          </div>
        </div>
        <div id="upcomingList" class="events-list" aria-live="polite"></div>
      </div>
    </main>

    <!-- Subtle footer with helpful hint -->
    <footer class="footer">
      <p>Try: "Meeting with team tomorrow at 3pm" or "Lunch next Friday"</p>
    </footer>
  </div>

  <script src="StudyJS.js" defer></script>
</body>
</html>